//Bartosz Bugajski - 5
import java.util.Scanner;

class Set
{
    int n; // ilosc danych zestawu
    long[] set; // tablica przechowujaca dane zestawu
    int SearchBinFirst(long x) // metoda zwracajaca pierwsze wystapienie danej liczby w zestawie
    {
        // na poczatku przeszukujemy cala tablice, wiec ustawiamy low na 0 oraz upp na n - 1
        // res to wartosc zwracana, ustawiamy ja na -1
        // w przypdku kiedy nie znajdziemy danej liczby w zestawie, funkcja zwroci -1
        int low = 0;
        int upp = n - 1;
        int res = -1;

        // funkcja to lekko zmodyfikowany BinarySearch, jedyna roznica jest to, ze po znalezieniu pasujacego elementu
        // nie zwracamy od razu jego indeksu, gdyz mamy znalezc pierwsze jego wystapienie, wiec w takim wypadku tylko
        // przypisujemy dany indeks (potencjalny wynik) do zmiennej zwracanej przez funkcje oraz zmieniamy upp na curr-1
        while(low <= upp)
        {
            int curr = (low + upp) / 2;
            if(set[curr] > x)
            {
                upp = curr - 1;
            }
            else if(set[curr] < x)
            {
                low = curr + 1;
            }
            else
            {
                res = curr;
                upp = curr - 1;
            }
        }
        return res;
    }
    int SearchBinLast(long x) // metoda zwracajaca ostatnie wystapienie danej liczby w zestawie
    {
        // funkcja dziala analogicznie do SearchBinFirst, z ta roznica, ze w przypadku znalezienia pasujacej liczby w tablicy,
        // zamiast zmieniac upp na curr-1, zmieniamy low na curr+1
        int low = 0;
        int upp = n - 1;
        int res = -1;

        while(low <= upp)
        {
            int curr = (low + upp) / 2;
            if(set[curr] > x)
            {
                upp = curr - 1;
            }
            else if(set[curr] < x)
            {
                low = curr + 1;
            }
            else
            {
                res = curr;
                low = curr + 1;
            }
        }
        return res;
    }
    void Display() // metoda wyswietlajaca ilosc roznych liczb w zestawie
    {
        int k = 1; // inicjalizujemy jako 1, bo nie moze byc mniejsza
        for (int i = 1; i < n; i++)
        {
            // wiemy, ze dane w zestawie sa posortowane niemalejaco, wiec wystarczy ze kazdy element bedziemy porownywac
            // z poprzedzajacym go elementem, jesli sa rozne to zwiekszamy k
            if(set[i-1] != set[i])
            {
                k++;
            }
        }
        System.out.println(k);
    }
}

public class Source
{
    public static Scanner sc = new Scanner(System.in);
    public static void main(String[] args)
    {
        int sets = sc.nextInt(); // wczytanie ilosci zestawow
        for(int i = 0; i < sets; i++)
        {
            Set help = new Set(); // tworzymy nowa klase
            help.n = sc.nextInt(); // wczytanie ilosci danych zestawu
            help.set = new long[help.n]; // tworzymy nowy zestaw
            for (int j = 0; j < help.n; j++) // wczytanie danych zestawu
            {
                help.set[j] = sc.nextLong();
            }
            int inqs = sc.nextInt(); // wczytanie ilosci zapytan o wystepowanie w zestawie
            for (int k = 0; k < inqs; k++)
            {
                long st = sc.nextLong(); // wczytanie poczatku przedzialu
                long en = sc.nextLong(); // wczytanie konca przedzialu

                // jesli poczatek przedzialu jest mniejszy od pierwszego elementu zestawu to zmieniamy jego wartosc
                // na wartosc tego elementu
                if(st < help.set[0])
                {
                    st = help.set[0];
                }

                // jesli koniec przedzialu jest wiekszy od ostatniego elementu zestawu to zmieniamy jego wartosc
                // na wartosc tego elementu
                if(en > help.set[help.n - 1])
                {
                    en = help.set[help.n - 1];
                }

                int stindex = help.SearchBinFirst(st); // szukamy pierwszego wystapienia st w zestawie
                // jesli stindex == -1, to znaczy ze st nie nalezy do zestawu
                // w takim wypadku zwiekszamy st i szukamy dalej dopoki nie znajdziemy lub nie skoncza nam sie dane w zestawie
                // analogicze pozniej robimy z enindex
                while(stindex == -1 && st <= help.set[help.n - 1])
                {
                    stindex = help.SearchBinFirst(++st);
                }
                int enindex = help.SearchBinLast(en);
                while(enindex == -1 && en >= help.set[0])
                {
                    enindex = help.SearchBinLast(--en);
                }

                // jesli po wykonanych operacjach st > en to znaczy ze zadna liczba nie nalezy do danego przedzialu
                // w innym wypadku obliczamy ich ilosc poprzez odjecie stindex od enindex i dodanie 1
                if(st <= en)
                {
                    System.out.println(enindex - stindex + 1);
                }
                else
                {
                    System.out.println(0);
                }
            }
            help.Display(); // po wypisaniu ilosci liczb nalezacych do przedzialu wyswietlamy ilosc roznych liczb w zestawie
        }
    }
}

/*
TESTY

Input:
20
44
-974 231 387 1176 3033 3682 5345 7135 7543 8241 8759 9694 10274 11440 13284 15175 15334 16954 18097 19690 20425 21240 22448 22718 22723 23898 25419 26866 27529 29221 30419 31213 32510 32986 34880 36036 37147 38530 39790 40590 41260 41517 41646
42740
22
900 447
-812 -125
-347 -1323
382 465
-698 -1341
423 2
819 1314
-731 -1078
-196 595
326 492
-872 -1771
-686 -596
636 785
733 395
621 -162
977 1594
898 729
428 1422
829 1201
358 20
252 -643
-698 -65
18
389 772 792 1148 1527 2202 4124 4427 6187 7723 9101 9144 10078 10477 11735 13277 13442 15330
30
-57 -750
-670 -40
-586 -937
-806 -810
-142 129
-824 -220
711 1259
-417 361
-218 -847
-709 -179
-805 -1426
-525 -1521
-96 364
562 -271
799 67
-814 -1690
861 225
298 711
54 -453
-326 -273
675 -87
275 972
-861 -699
-899 -779
233 359
-189 -406
114 -493
-206 -1111
-358 -1087
-462 -1043
24
228 1793 2239 2410 4383 4952 5181 5476 5885 6265 7202 7680 8556 10506 11763 11893 12250 13776 13803 15118 16434 18422 19347 20821
12
214 1044
-707 -153
438 525
-820 143
-277 -804
548 654
-891 -913
-775 -1381
-411 -1204
-942 -1860
-134 -194
-761 -309
39
-805 431 1219 2323 3911 4324 4375 5177 6058 7047 7321 8590 9993 10421 11807 13788 15099 17060 18369 19254 21144 22662 23907 24284 24442 26415 27163 29131 30712 31843 33686 35333 37128 38668 38979 39165 40461 42252 43668
41
67 -105
352 17
850 742
-87 182
-3 -574
-593 -549
-743 -925
-325 -254
200 336
478 794
-126 -276
-12 -458
-618 -68
207 664
-628 -1525
-927 -346
-403 538
10 151
197 31
755 209
7 756
-871 -673
193 14
-241 -291
-734 -1024
-451 -1356
538 938
-371 -971
401 -54
8 446
475 282
220 450
9 372
-735 -624
979 845
-804 -1344
-522 12
451 1027
-312 -1252
323 757
-396 -493
54
-478 703 1632 1918 2315 2563 4112 5360 7092 8612 9623 11175 12144 14047 15845 17645 19131 20609 22037 22401 23227 24489 26150 26657 27071 27552 28583 30075 31111 32400 32609 34268 35574 35823 36502 37458 38325 40225 40439 40741 41364 41966 42830 42858 44159 44673 45314 46386 47008 48532 49447 50488 51347 51441
14
-415 -1325
-483 -671
-612 122
-906 -501
146 1102
712 353
234 885
-566 -909
101 811
-71 -214
-13 350
-822 -1160
-471 -313
320 -295
12
192 1803 3302 5031 5251 6428 6535 6780 8449 9795 11174 11196
38
619 -279
-702 -1157
-963 -329
-137 -337
477 846
-856 -605
-567 -1436
580 128
-234 -1139
922 1866
228 -167
-757 -202
-894 -1545
613 -290
884 884
-973 -259
-700 -1094
479 12
-760 -1297
-711 -1303
-621 -1255
-531 -908
-595 -569
-400 75
967 1166
587 272
154 840
-501 -490
688 1408
-505 -1359
86 590
-348 -358
-513 -1320
-697 -28
-100 17
-663 -1477
-5 -836
-641 328
52
-214 -80 1430 2406 3481 4380 5123 6502 7834 7931 9320 10869 10873 12264 13751 15038 16751 17040 18124 20005 21455 22794 23781 24666 26303 27805 27828 28405 29620 30277 31392 32315 32365 34113 34491 35924 36016 37073 38307 39393 40287 41444 41814 42522 43467 45368 45505 46135 47623 49355 50508 50872
5
-219 666
558 465
854 1390
717 877
948 736
21
-517 -260 1505 2545 3725 3835 5603 6392 7878 9163 10108 10195 12055 12234 12460 12922 14378 14702 16667 17822 18926
41
49 -838
-491 13
-106 -368
536 -88
395 829
586 -377
-864 -1421
-717 -138
-380 -555
-416 403
-165 -839
416 631
417 1097
-112 -819
109 -29
617 1264
-934 -1655
408 -326
914 493
-785 -75
-468 -1238
75 -648
-728 -294
342 494
-936 -373
893 91
-399 354
-348 -1174
-750 -76
936 1264
-555 412
517 516
115 -589
361 -294
381 -578
937 1067
-472 -1137
-476 -39
249 351
-219 362
-207 438
8
554 687 1717 2814 3529 5278 6770 8584
32
-318 -1211
151 187
945 383
398 706
111 875
264 -595
717 -230
42 -941
233 -69
505 1143
-443 -769
734 1270
-472 6
-484 -1107
100 253
289 1087
391 -589
380 912
-586 -1225
-290 -951
-953 -1243
-892 -1691
-578 -726
804 1254
-70 3
-315 492
-736 -1333
52 400
489 1039
453 -356
216 -456
-970 -293
31
266 313 1394 3211 3912 5086 6672 8007 8226 10220 10307 11687 12941 14766 16631 16639 17719 18293 19907 20808 21173 21901 23454 24967 26243 27296 28344 28554 29938 31913 32175
7
469 -433
-440 -1278
629 566
-794 -1548
-767 -1623
67 660
807 507
42
-635 -198 204 604 2289 3017 4088 5156 6609 6861 6885 8755 9918 11365 11906 12574 12957 13631 14931 15456 16289 16427 17823 18451 19935 21640 22570 23463 24370 25766 26832 27669 29593 30607 31631 32925 34159 34477 34676 36071 37646 37810
50
-743 178
305 -464
-700 -5
566 1430
-239 -1176
-983 -1617
-218 -584
409 -262
645 391
12 588
529 -397
-528 -937
703 466
-926 -1309
-934 -294
480 88
-183 -755
906 830
196 927
238 -338
-139 -725
-155 792
-148 -673
-9 548
390 531
470 214
318 877
-662 44
-732 67
376 -504
-802 -1353
169 1037
-516 260
344 -94
672 540
-148 412
-802 -73
695 -189
-416 -659
-642 160
-947 -911
426 400
123 522
-434 -1203
114 -124
57 598
243 816
654 1323
-791 -1721
659 -51
45
296 630 1009 1920 3040 3217 5010 5696 5932 5932 7254 7743 9413 9799 9805 11774 12761 14392 14896 15484 16753 17836 19398 21379 21603 21637 22822 24138 24997 26504 27049 28715 30524 31438 31762 33154 34331 35252 35707 37163 37941 38131 39865 41788 42751
26
-908 -890
-222 24
510 -54
663 -55
858 215
-445 -459
-949 -262
-362 -275
742 1262
-891 70
739 1626
-532 -985
473 425
-411 -579
522 323
-806 -1419
810 541
-281 -588
-106 611
-236 -81
66 647
306 -496
948 1109
131 163
751 428
-866 -1031
36
659 2559 3386 4536 4589 6365 6507 7923 8177 8526 9672 10222 11061 11337 12742 12983 13871 15501 16188 17502 19426 20143 21348 22843 23532 23920 23943 25823 25974 27471 27635 28989 29347 30157 31281 33092
21
167 478
288 534
36 -945
2 206
-924 -1284
563 413
16 -894
764 281
928 1874
577 1204
173 -747
653 1001
537 446
756 1490
350 918
-203 448
581 -227
-465 -219
936 201
407 938
-999 -1413
24
101 436 483 1835 3350 4320 5866 7248 8441 10096 10410 11973 13806 15453 17219 18809 19585 21455 22749 23603 24803 25604 26168 26381
47
-570 -1247
878 1293
961 862
-867 -580
-360 -1074
432 726
-91 -647
595 622
-554 -460
781 893
-140 321
-646 -1595
752 1432
-792 -709
-337 67
-10 -894
-680 275
698 -32
91 -248
290 900
-187 506
-723 -107
-303 -465
572 -383
-463 -186
-525 -1013
-771 45
-284 515
-470 -695
317 571
143 449
64 176
501 1153
357 85
589 1539
-501 53
246 973
948 82
-961 18
-702 -329
-822 -133
540 -365
-607 -478
-218 706
93 426
144 641
-123 -91
11
36 913 2191 2364 2930 4251 6083 6569 7829 7984 8692
19
443 -391
99 -532
217 185
308 669
263 879
120 -263
-374 -1311
-730 -274
-843 -1224
125 523
-290 -1035
-579 116
485 -402
661 476
-782 -897
-455 -1192
-194 -714
-874 -819
-171 -819
6
-757 741 2409 3022 3491 3846
24
185 -268
487 1185
-992 -81
-672 0
314 696
920 1198
-693 -1286
285 -497
-731 -1666
-985 -701
-962 -1384
12 -752
323 783
-496 -1191
-546 -1181
65 920
548 914
258 179
401 1335
949 1861
376 736
991 649
518 784
455 -515
10
911 2422 2553 3457 4607 5886 6272 6486 7402 8656
54
-552 -805
-161 -975
295 289
140 752
614 309
168 917
-46 92
-437 -383
701 113
-68 -328
612 445
-988 -1804
750 987
-459 230
776 1740
-614 -847
-993 -1988
113 -782
-194 524
710 1543
-615 -129
881 1351
-456 -1449
-301 -338
-56 43
-755 -501
-34 -513
594 1398
478 -51
-706 -1447
-389 -579
-922 -1146
-352 -1012
818 947
-882 -349
985 1535
-937 -92
-133 759
314 43
-507 -1258
-928 -1076
-959 -376
-217 -265
332 -385
268 1169
76 129
-929 -352
705 -98
545 -199
-134 -346
-319 503
540 -379
951 1234
639 468
30
-710 1059 1768 3686 4382 5940 6625 6838 7368 7573 7598 9068 9851 9963 11117 11341 12454 12758 14297 15116 15446 16967 17260 17566 18669 19944 21267 22676 22848 22931
44
280 489
-250 -144
979 509
881 1378
-731 22
-75 304
-296 162
212 -508
304 504
278 1088
978 1730
-357 291
643 -241
721 1040
370 38
-456 -1064
665 -13
292 308
-112 -347
771 407
707 884
-656 -37
-410 -309
487 7
981 570
-854 -1510
-800 -1447
771 924
-793 -1372
427 -209
66 -884
938 46
725 1722
240 207
818 792
339 208
15 107
698 904
-647 313
-662 -1605
-535 -64
958 209
-74 -895
-163 -399
23
919 2607 3090 4461 5604 7576 8626 9506 11433 11505 11591 12212 13365 13745 14951 15129 15499 16913 16979 17917 19161 20572 22423
13
923 326
768 1424
66 -310
-461 -976
-4 -159
-935 -1734
-175 -165
61 -743
234 -56
618 54
-77 -3
947 428
-463 -432
43
-491 -408 378 796 1573 1685 2092 3418 3469 4298 4443 6058 7234 8467 9406 9676 9823 11644 12495 12885 13267 13668 13993 15526 17485 17743 18487 19374 20805 21984 23704 24608 25296 26641 27092 28077 29794 31021 31318 33219 34337 34867 35664
34
190 -489
-138 -777
-295 -1294
-644 -713
728 814
-628 -801
-362 -1315
484 1157
-101 -458
-318 -163
438 280
873 79
-681 -61
-746 -1439
800 1505
-733 -1087
956 175
75 70
-32 225
911 769
-975 -49
-695 -1426
711 808
-400 -769
513 671
-437 -910
169 -178
-583 381
649 194
-624 -1324
254 466
517 1421
-69 -444
-804 -50

Output:
0
0
0
1
0
0
1
0
2
1
0
0
0
0
0
1
0
1
1
0
0
0
44
0
0
0
0
0
0
3
0
0
0
0
0
0
0
0
0
0
1
0
0
0
3
0
0
0
0
0
0
0
0
18
1
0
0
0
0
0
0
0
0
0
0
0
24
0
0
0
0
0
0
0
0
0
0
0
0
0
1
0
1
1
0
0
0
1
1
0
0
0
0
0
0
0
1
0
1
0
0
0
0
0
0
0
1
0
39
0
0
1
0
1
0
1
0
1
0
0
0
0
0
54
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
1
0
0
0
1
0
0
0
0
0
0
1
12
2
0
0
0
0
52
0
1
0
0
0
0
0
2
0
1
0
0
0
0
0
0
0
0
0
2
0
0
1
0
1
0
1
0
2
0
2
0
0
0
0
0
0
1
0
0
0
21
0
0
0
2
2
0
0
0
0
2
0
0
0
0
0
2
0
2
0
0
0
0
0
0
0
0
0
0
2
0
0
0
8
0
0
0
0
0
2
0
31
2
0
2
1
0
0
0
0
0
1
0
0
0
0
1
0
0
0
2
0
0
2
0
1
0
0
1
2
2
0
0
2
2
0
0
1
2
0
0
2
0
0
1
0
0
1
1
0
0
0
42
0
0
0
0
0
0
0
0
1
0
1
0
0
0
0
0
0
0
1
0
2
0
1
0
0
0
44
0
0
0
0
0
0
0
0
0
1
0
1
0
0
1
0
0
0
0
1
0
36
0
0
0
0
0
2
0
0
0
0
1
0
0
0
0
0
1
0
0
2
3
0
0
0
0
0
0
3
0
2
1
1
0
0
0
0
2
0
0
0
0
0
0
3
1
2
0
24
0
0
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
11
0
1
1
0
0
0
0
0
0
1
0
0
1
0
0
1
1
0
1
0
0
0
1
0
6
0
0
0
0
0
1
0
0
0
0
0
0
1
0
1
0
0
0
0
1
0
1
0
0
0
0
0
1
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
10
0
0
0
1
1
0
0
0
0
1
1
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
0
30
0
1
0
0
0
0
0
0
0
0
0
0
0
23
0
0
0
0
1
0
0
1
0
0
0
0
2
0
0
0
0
0
0
0
2
0
1
0
0
0
0
3
0
0
1
1
0
2
43

 */